{% extends "admin/change_list.html" %}
{% load i18n admin_urls static %}

{% block object-tools-items %}
    <li>
        <a href="{% url 'admin:bulk_certificate' %}" class="btn btn-high btn-success">
            <i class="fas fa-certificate"></i> Bulk Generate Certificates
        </a>
    </li>
    {{ block.super }}
{% endblock %}

{% block result_list %}
    <div class="certificate-stats" style="margin-bottom: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px; border: 1px solid #e9ecef;">
        <h3 style="margin-top: 0; color: #0d6efd; font-size: 18px; font-weight: 600; margin-bottom: 15px;">Certificate Statistics</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
            {% for category in categories %}
            <div style="background-color: white; border-radius: 5px; padding: 15px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); text-align: center;">
                <div style="font-size: 24px; font-weight: 600; color: #0d6efd; margin-bottom: 5px;">{{ category.cert_count }}</div>
                <div style="color: #6c757d; font-size: 14px;">{{ category.name }} Certificates</div>
            </div>
            {% endfor %}
            <div style="background-color: white; border-radius: 5px; padding: 15px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); text-align: center;">
                <div style="font-size: 24px; font-weight: 600; color: #0d6efd; margin-bottom: 5px;">{{ total_certificates }}</div>
                <div style="color: #6c757d; font-size: 14px;">Total Certificates</div>
            </div>
        </div>
    </div>
    {{ block.super }}
{% endblock %}